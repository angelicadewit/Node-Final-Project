{"version":3,"sources":["main.js"],"names":["console","log","$submitButton","document","querySelector","usernameInput","labelSelection","letterInput","letterUL","idCounter","addEventListener","url","enteredUsername","value","newUsername","substring","toUpperCase","axios","post","id","username","label","message","then","response","catch","error","get","newLetterOnPage","letters","data","length","innerHTML","forEach","letter","newLetterListItem","createElement","letterLabelDiv","upvoteBtn","classList","add","textContent","appendChild"],"mappings":";;AAAAA,QAAQC,GAAR;AACA,IAAIC,gBAAgBC,SAASC,aAAT,eAApB;AACA,IAAIC,gBAAgBF,SAASC,aAAT,uBAApB;AACA,IAAIE,iBAAiBH,SAASC,aAAT,iBAArB;AACA,IAAIG,cAAcJ,SAASC,aAAT,qBAAlB;AACA,IAAII,WAAWL,SAASC,aAAT,cAAf;AACA,IAAIK,YAAY,CAAhB;;AAEAP,cAAcQ,gBAAd,UAAwC,YAAW;AAC/C,QAAIC,qCAAJ;AACA,QAAIC,kBAAkBP,cAAcQ,KAApC;AACA,QAAIC,gBAAJ;;AAEA,QAAI,CAACF,eAAL,EAAsB;AAClBE;AACH,KAFD,MAEO;AACHA,sBAAcF,gBAAgBG,SAAhB,CAA0B,CAA1B,EAA4B,CAA5B,EAA+BC,WAA/B,EAAd;AACH;;AAED,QAAI,CAACV,eAAeO,KAApB,EAA2B;AACvBP,uBAAeO,KAAf;AACH;;AAGJI,UAAMC,IAAN,CAAWP,GAAX,EAAgB;AACTQ,YAAIV,WADK;AAETW,kBAAUN,WAFD;AAGTO,eAAOf,eAAeO,KAHb;AAITS,iBAASf,YAAYM;AAJZ,KAAhB,EAMIU,IANJ,CAMS,UAAUC,QAAV,EAAoB;AACtBxB,gBAAQC,GAAR,CAAYuB,QAAZ;AACH,KARJ,EASIC,KATJ,CASU,UAAUC,KAAV,EAAiB;AACpB1B,gBAAQC,GAAR,CAAYyB,KAAZ;AACH,KAXJ;AAYA,CA5BD;;AA8BAT,MAAMU,GAAN,CAAU,+BAAV,EAA2CJ,IAA3C,CAAgD,UAAUC,QAAV,EAAoB;AAChExB,YAAQC,GAAR,CAAYuB,QAAZ;AACAI,oBAAgBJ,QAAhB;AACH,CAHD;;AAKA,IAAII,kBAAkB,SAAlBA,eAAkB,CAASC,OAAT,EAAiB;;AAEnC,QAAIA,QAAQC,IAAR,CAAaC,MAAb,KAAwB,CAA5B,EAA8B;AAC1BvB,iBAASwB,SAAT;AACH,KAFD,MAEO;AACHhC,gBAAQC,GAAR,6BAAwC4B,OAAxC;AACArB,iBAASwB,SAAT;;AAEAH,gBAAQC,IAAR,CAAaG,OAAb,CAAqB,UAASC,MAAT,EAAiB;AAClC,gBAAIC,oBAAoBhC,SAASiC,aAAT,MAAxB;AACA;AACA,gBAAIC,iBAAiBlC,SAASiC,aAAT,OAArB;AACA,gBAAIE,YAAYnC,SAASiC,aAAT,UAAhB;;AAEAE,sBAAUN,SAAV,GAAsB,IAAtB;;AAEAM,sBAAU5B,gBAAV,CAA2B,OAA3B,EAAoC,YAAW;AAC3C;AACH,aAFD;;AAIA;AACA2B,2BAAeE,SAAf,CAAyBC,GAAzB,CAA8B,OAA9B,EAAuCN,OAAOb,KAA9C;AACAgB,2BAAe3B,gBAAf,CAAgC,OAAhC,EAAyC,YAAW;AAChDO,sBAAMU,GAAN,qCAA4CO,OAAOb,KAAnD,EAA4DE,IAA5D,CAAiE,UAAUC,QAAV,EAAoB;AACjFxB,4BAAQC,GAAR,oCAAgDiC,OAAOb,KAAvD;AACA;AACH,iBAHD;AAIH,aALD;;AAOAgB,2BAAeI,WAAf,GAA6BP,OAAOb,KAApC;;AAEAc,8BAAkBH,SAAlB,WAAoCE,OAAOZ,OAA3C,6CAAwFY,OAAOd,QAA/F;;AAEAe,8BAAkBO,WAAlB,CAA8BJ,SAA9B;;AAEAH,8BAAkBO,WAAlB,CAA8BL,cAA9B;;AAEA;AACA7B,qBAASkC,WAAT,CAAqBP,iBAArB;AAEH,SAhCD;AAiCH;AACJ,CA1CD","file":"main.js","sourcesContent":["console.log(`Hello World from main.js`)\nlet $submitButton = document.querySelector(`button.send`)\nlet usernameInput = document.querySelector(`[name=\"username\"]`)\nlet labelSelection = document.querySelector(`#label_select`)\nlet letterInput = document.querySelector(`[name=\"letter\"]`)\nlet letterUL = document.querySelector(`ul.letters`)\nlet idCounter = 0\n\n$submitButton.addEventListener(`click`, function() {\n    let url = `http://localhost:1337/letters`\n    let enteredUsername = usernameInput.value\n    let newUsername = ``\n\n    if (!enteredUsername) {\n        newUsername = `Me`\n    } else {\n        newUsername = enteredUsername.substring(0,1).toUpperCase()\n    }\n\n    if (!labelSelection.value) {\n        labelSelection.value = `misc`\n    }\n\n\n\taxios.post(url, {\n        id: idCounter++,\n        username: newUsername,\n        label: labelSelection.value,\n        message: letterInput.value,\n\t})\n    .then(function (response) {\n        console.log(response)\n    })\n    .catch(function (error) {\n        console.log(error)\n    });\n})\n\naxios.get(\"http://localhost:1337/letters\").then(function (response) {\n    console.log(response);\n    newLetterOnPage(response);\n});\n\nlet newLetterOnPage = function(letters){\n\n    if (letters.data.length === 0){\n        letterUL.innerHTML += `<p>There are no letters available. Want to write something?</p>`\n    } else {\n        console.log(`here are are the letters`, letters)\n        letterUL.innerHTML = ``\n\n        letters.data.forEach(function(letter) {\n            let newLetterListItem = document.createElement(`li`)\n            // let newLetterDiv = document.createElement(`div`)\n            let letterLabelDiv = document.createElement(`div`)\n            let upvoteBtn = document.createElement(`button`)\n\n            upvoteBtn.innerHTML = \"UP\";\n\n            upvoteBtn.addEventListener(\"click\", function() {\n                // ajax req for /letters/:letterID/upvote\n            })\n            \n            // newLetterListItem.classList.add(`letterDiv`)\n            letterLabelDiv.classList.add (\"label\", letter.label)\n            letterLabelDiv.addEventListener(\"click\", function() {\n                axios.get(`http://localhost:1337/letters/:${letter.label}`).then(function (response) {\n                    console.log(   `http://localhost:1337/letters/${letter.label}`);\n                    // newLetterOnPage(response);\n                });\n            })\n\n            letterLabelDiv.textContent = letter.label\n            \n            newLetterListItem.innerHTML = `<p>${letter.message}.</p> <p class=\"salutations\">Love, ${letter.username}</p>`\n            \n            newLetterListItem.appendChild(upvoteBtn)\n\n            newLetterListItem.appendChild(letterLabelDiv)\n\n            // newLetterListItem.appendChild(newLetterDiv)\n            letterUL.appendChild(newLetterListItem)\n\n        })\n    }\n}\n"]}