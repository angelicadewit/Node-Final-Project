{"version":3,"sources":["main.js"],"names":["console","log","$submitButton","document","querySelector","usernameInput","labelSelection","letterInput","letterUL","allFilter","localURL","liveURL","addEventListener","event","preventDefault","enteredUsername","value","newUsername","substring","toUpperCase","axios","post","username","label","message","then","response","newLetterOnPage","catch","error","get","innerHTML","letters","data","length","forEach","letter","newLetterListItem","createElement","newLetterDiv","letterLabelDiv","reactionsDiv","reactionsBtnDiv","numberOfLoveSpan","loveBtnDiv","loveBtn","numberOfSurpriseSpan","surpriseBtnDiv","surpriseBtn","numberOfSadSpan","sadBtnDiv","sadBtn","classList","add","textContent","love","src","surprise","sad","id","appendChild","filters","filter","filterBtn"],"mappings":";;AAAAA,QAAQC,GAAR;AACA,IAAIC,gBAAgBC,SAASC,aAAT,eAApB;AACA,IAAIC,gBAAgBF,SAASC,aAAT,uBAApB;AACA,IAAIE,iBAAiBH,SAASC,aAAT,iBAArB;AACA,IAAIG,cAAcJ,SAASC,aAAT,qBAAlB;AACA,IAAII,WAAWL,SAASC,aAAT,cAAf;AACA,IAAIK,YAAYN,SAASC,aAAT,QAAhB;;AAEA;AACA;;AAEA,IAAIM,mCAAJ;AACA,IAAIC,sCAAJ;;AAIAT,cAAcU,gBAAd,UAAwC,YAAW;AAC/CC,UAAMC,cAAN;AACA,QAAIC,kBAAkBV,cAAcW,KAApC;AACA,QAAIC,gBAAJ;;AAEA,QAAI,CAACF,eAAL,EAAsB;AAClBE;AACH,KAFD,MAEO;AACHA,sBAAcF,gBAAgBG,SAAhB,CAA0B,CAA1B,EAA4B,CAA5B,EAA+BC,WAA/B,EAAd;AACH;;AAED,QAAI,CAACb,eAAeU,KAApB,EAA2B;AACvBV,uBAAeU,KAAf;AACH;;AAEJI,UAAMC,IAAN,CAAWV,UAAQ,SAAnB,EAA8B;AACvBW,kBAAUL,WADa;AAEvBM,eAAOjB,eAAeU,KAFC;AAGvBQ,iBAASjB,YAAYS;AAHE,KAA9B,EAKIS,IALJ,CAKS,UAAUC,QAAV,EAAoB;AACtB1B,gBAAQC,GAAR,CAAYyB,QAAZ;AACAC,wBAAgBD,QAAhB;AACH,KARJ,EASIE,KATJ,CASU,UAAUC,KAAV,EAAiB;AACpB7B,gBAAQC,GAAR,CAAY4B,KAAZ;AACH,KAXJ;AAYA,CA3BD;;AA8BAT,MACKU,GADL,CACSnB,UAAU,SADnB,EAEKc,IAFL,CAEU,UAAUC,QAAV,EAAoB;AACtB1B,YAAQC,GAAR,CAAYyB,QAAZ;AACAlB,aAASuB,SAAT;AACAJ,oBAAgBD,QAAhB;AACH,CANL;;AASA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;;AAIA,IAAIC,kBAAkB,SAAlBA,eAAkB,CAASK,OAAT,EAAiB;AACnC,QAAIA,QAAQC,IAAR,CAAaC,MAAb,KAAwB,CAA5B,EAA8B;AAC1B1B,iBAASuB,SAAT;AACH,KAFD,MAEO;AACH/B,gBAAQC,GAAR,6BAAwC+B,OAAxC;AACAxB,iBAASuB,SAAT;;AAEAC,gBAAQC,IAAR,CAAaE,OAAb,CAAqB,UAASC,MAAT,EAAiB;AAClC,gBAAIC,oBAAoBlC,SAASmC,aAAT,MAAxB;;AAEA,gBAAIC,eAAepC,SAASmC,aAAT,OAAnB;AACA,gBAAIE,iBAAiBrC,SAASmC,aAAT,OAArB;AACA,gBAAIG,eAAetC,SAASmC,aAAT,OAAnB;AACA,gBAAII,kBAAkBvC,SAASmC,aAAT,OAAtB;;AAEA,gBAAIK,mBAAmBxC,SAASmC,aAAT,QAAvB;AACA,gBAAIM,aAAazC,SAASmC,aAAT,OAAjB;AACA,gBAAIO,UAAU1C,SAASmC,aAAT,OAAd;;AAEA,gBAAIQ,uBAAuB3C,SAASmC,aAAT,QAA3B;AACA,gBAAIS,iBAAiB5C,SAASmC,aAAT,OAArB;AACA,gBAAIU,cAAc7C,SAASmC,aAAT,OAAlB;;AAEA,gBAAIW,kBAAkB9C,SAASmC,aAAT,QAAtB;AACA,gBAAIY,YAAY/C,SAASmC,aAAT,OAAhB;AACA,gBAAIa,SAAShD,SAASmC,aAAT,OAAb;;AAEA;AACA;;AAEAD,8BAAkBe,SAAlB,CAA4BC,GAA5B,CAAiCjB,OAAOb,KAAxC;;AAEAoB,6BAAiBW,WAAjB,GAA+BlB,OAAOmB,IAAtC;AACAZ,6BAAiBS,SAAjB,CAA2BC,GAA3B;AACAR,oBAAQW,GAAR,GAAc,mBAAd;AACAZ,uBAAWQ,SAAX,CAAqBC,GAArB;;AAEAP,iCAAqBQ,WAArB,GAAmClB,OAAOqB,QAA1C;AACAT,wBAAYQ,GAAZ,GAAkB,mBAAlB;AACAT,2BAAeK,SAAf,CAAyBC,GAAzB;AACAP,iCAAqBM,SAArB,CAA+BC,GAA/B;;AAEAJ,4BAAgBK,WAAhB,GAA8BlB,OAAOsB,GAArC;AACAP,mBAAOK,GAAP,GAAa,mBAAb;AACAN,sBAAUE,SAAV,CAAoBC,GAApB;AACAJ,4BAAgBG,SAAhB,CAA0BC,GAA1B;;AAGAX,4BAAgBU,SAAhB,CAA0BC,GAA1B;AACAZ,yBAAaW,SAAb,CAAuBC,GAAvB;AACAd,yBAAaa,SAAb,CAAuBC,GAAvB;;AAGAR,oBAAQjC,gBAAR,CAAyB,OAAzB,EAAkC,YAAW;AACzCQ,sBAAMC,IAAN,CAAWV,UAAU,UAAV,GAAuByB,OAAOuB,EAA9B,GAAmC,OAA9C,EACKlC,IADL,CACU,UAACC,QAAD,EAAc;AAChB;AACAb,0BAAMC,cAAN;AACA6B,qCAAiBW,WAAjB;AACAX,qCAAiBW,WAAjB,GAA+B5B,SAASO,IAAxC;AACH,iBANL;AAOH,aARD;;AAUAe,wBAAYpC,gBAAZ,CAA6B,OAA7B,EAAsC,YAAW;AAC7CQ,sBAAMC,IAAN,CAAWV,UAAU,UAAV,GAAuByB,OAAOuB,EAA9B,GAAmC,WAA9C,EACKlC,IADL,CACU,UAACC,QAAD,EAAc;AAChBb,0BAAMC,cAAN;AACAgC,yCAAqBQ,WAArB;AACAR,yCAAqBQ,WAArB,GAAmC5B,SAASO,IAA5C;AACH,iBALL;AAMH,aAPD;;AASAkB,mBAAOvC,gBAAP,CAAwB,OAAxB,EAAiC,YAAW;AACxCQ,sBAAMC,IAAN,CAAWV,UAAU,UAAV,GAAuByB,OAAOuB,EAA9B,GAAmC,MAA9C,EACKlC,IADL,CACU,UAACC,QAAD,EAAc;AAChBb,0BAAMC,cAAN;AACAmC,oCAAgBK,WAAhB;AACAL,oCAAgBK,WAAhB,GAA8B5B,SAASO,IAAvC;AACH,iBALL;AAMH,aAPD;;AASAO,2BAAeY,SAAf,CAAyBC,GAAzB,CAA8B,OAA9B,EAAuCjB,OAAOb,KAA9C;AACAiB,2BAAe5B,gBAAf,CAAgC,OAAhC,EAAyC,YAAW;AAChDQ,sBAAMU,GAAN,CAAUnB,6BAAwByB,OAAOb,KAA/B,CAAV,EAAkDE,IAAlD,CAAuD,UAAUC,QAAV,EAAoB;AACvE;AACAC,oCAAgBD,QAAhB;AACH,iBAHD;AAIH,aALD;;AAQAc,2BAAec,WAAf,GAA6BlB,OAAOb,KAApC;;AAEA;AACA;;AAEA;;AAEAgB,yBAAaR,SAAb,WAA+BK,OAAOZ,OAAtC,6CAAmFY,OAAOd,QAA1F;;AAEAmB,yBAAamB,WAAb,CAAyBpB,cAAzB;;AAEAI,uBAAWgB,WAAX,CAAuBjB,gBAAvB;AACAC,uBAAWgB,WAAX,CAAuBf,OAAvB;;AAEAE,2BAAea,WAAf,CAA2Bd,oBAA3B;AACAC,2BAAea,WAAf,CAA2BZ,WAA3B;;AAEAE,sBAAUU,WAAV,CAAsBX,eAAtB;AACAC,sBAAUU,WAAV,CAAsBT,MAAtB;;AAEAT,4BAAgBkB,WAAhB,CAA4BhB,UAA5B;AACAF,4BAAgBkB,WAAhB,CAA4Bb,cAA5B;AACAL,4BAAgBkB,WAAhB,CAA4BV,SAA5B;;AAEAT,yBAAamB,WAAb,CAAyBlB,eAAzB;;AAEAL,8BAAkBuB,WAAlB,CAA8BrB,YAA9B;AACAF,8BAAkBuB,WAAlB,CAA8BnB,YAA9B;;AAGAjC,qBAASoD,WAAT,CAAqBvB,iBAArB;AACH,SAlHD;AAmHH;AACJ,CA3HD;;AA+HA5B,UAAUG,gBAAV,CAA2B,OAA3B,EAAoC,YAAW;AAC3CQ,UAAMU,GAAN,CAAUnB,UAAU,SAApB,EACCc,IADD,CACM,UAAUC,QAAV,EAAoB;AACtB1B,gBAAQC,GAAR,CAAYyB,QAAZ;AACAlB,iBAASuB,SAAT;AACAJ,wBAAgBD,QAAhB;AACH,KALD;AAMH,CAPD;;AASA,IAAImC,UAAU,4CAAd;;AAQAA,QAAQ1B,OAAR,CAAgB,UAAS2B,MAAT,EAAgB;AAC5B,QAAIC,YAAY5D,SAASC,aAAT,aAAiC0D,MAAjC,CAAhB;;AAEAC,cAAUnD,gBAAV,CAA2B,OAA3B,EAAoC,YAAW;AAC3CQ,cAAMU,GAAN,CAAUnB,6BAAwBmD,MAAxB,CAAV,EACCrC,IADD,CACM,UAAUC,QAAV,EAAoB;AACtBlB,qBAASuB,SAAT;AACAJ,4BAAgBD,QAAhB;AACH,SAJD;AAMH,KAPD;AAQH,CAXD","file":"main.js","sourcesContent":["console.log(`Hello World from main.js`)\nlet $submitButton = document.querySelector(`button.send`)\nlet usernameInput = document.querySelector(`[name=\"username\"]`)\nlet labelSelection = document.querySelector(`#label_select`)\nlet letterInput = document.querySelector(`[name=\"letter\"]`)\nlet letterUL = document.querySelector(`ul.letters`)\nlet allFilter = document.querySelector(`.all`)\n\n// let loveBtn = document.querySelector(`.loveBtn`)\n// let numberOfLoveSpan = document.querySelector(`.loveReactions`)\n\nlet localURL = `http://localhost:1337/`\nlet liveURL = `http://206.189.78.79:1337/`\n\n\n\n$submitButton.addEventListener(`click`, function() {\n    event.preventDefault();\n    let enteredUsername = usernameInput.value\n    let newUsername = ``\n\n    if (!enteredUsername) {\n        newUsername = `Me`\n    } else {\n        newUsername = enteredUsername.substring(0,1).toUpperCase()\n    }\n\n    if (!labelSelection.value) {\n        labelSelection.value = `misc`\n    }\n\n\taxios.post(liveURL+\"letters\", {\n        username: newUsername,\n        label: labelSelection.value,\n        message: letterInput.value,\n\t})\n    .then(function (response) {\n        console.log(response)\n        newLetterOnPage(response)\n    })\n    .catch(function (error) {\n        console.log(error)\n    });\n})\n\n\naxios\n    .get(liveURL + \"letters\")\n    .then(function (response) {\n        console.log(response)\n        letterUL.innerHTML = ``\n        newLetterOnPage(response)\n    });\n\n\n// let showingReplies = function(){\n\n//     let repliesDiv = document.querySelectorAll(`.replies`)\n    \n//     repliesDiv.forEach(function(reply){\n//         let serverReplyDiv = document.createElement('div')\n\n//         serverReplyDiv.classList.add(`reply`)\n        \n//         serverReplyDiv.style.left = reply.getBoundingClientRect().right + window.scrollX + \"px\";\n//         serverReplyDiv.style.top = reply.getBoundingClientRect().top + window.scrollY + \"px\";\n//         reply.appendChild(serverReplyDiv)\n//     })\n\t\t\n// }\n\n\n\nlet newLetterOnPage = function(letters){\n    if (letters.data.length === 0){\n        letterUL.innerHTML += `<p>There are no letters available. Want to write something?</p>`\n    } else {\n        console.log(`here are are the letters`, letters)\n        letterUL.innerHTML = ``\n\n        letters.data.forEach(function(letter) {\n            let newLetterListItem = document.createElement(`li`)\n\n            let newLetterDiv = document.createElement(`div`)\n            let letterLabelDiv = document.createElement(`div`)\n            let reactionsDiv = document.createElement(`div`)\n            let reactionsBtnDiv = document.createElement(`div`)\n\n            let numberOfLoveSpan = document.createElement(`span`)\n            let loveBtnDiv = document.createElement(`div`)\n            let loveBtn = document.createElement(`img`)\n\n            let numberOfSurpriseSpan = document.createElement(`span`)\n            let surpriseBtnDiv = document.createElement(`div`)\n            let surpriseBtn = document.createElement(`img`)\n\n            let numberOfSadSpan = document.createElement(`span`)\n            let sadBtnDiv = document.createElement(`div`)\n            let sadBtn = document.createElement(`img`)\n\n            // let repliesDiv = document.createElement(`div`)\n            // let repliesSpan = document.createElement(`span`)\n\n            newLetterListItem.classList.add (letter.label)\n\n            numberOfLoveSpan.textContent = letter.love\n            numberOfLoveSpan.classList.add(`loveReactions`)\n            loveBtn.src = \"dist/img/56-3.png\"\n            loveBtnDiv.classList.add(`reaction-button`)\n\n            numberOfSurpriseSpan.textContent = letter.surprise\n            surpriseBtn.src = \"dist/img/56-1.png\"\n            surpriseBtnDiv.classList.add(`reaction-button`)\n            numberOfSurpriseSpan.classList.add(`surpriseReactions`)\n\n            numberOfSadSpan.textContent = letter.sad\n            sadBtn.src = \"dist/img/56-2.png\"\n            sadBtnDiv.classList.add(`reaction-button`)\n            numberOfSadSpan.classList.add(`sadReactions`)\n            \n\n            reactionsBtnDiv.classList.add(`reaction-btns`)\n            reactionsDiv.classList.add(`reaction`)\n            newLetterDiv.classList.add(`letter`)\n\n\n            loveBtn.addEventListener(\"click\", function() {\n                axios.post(liveURL + \"letters/\" + letter.id + \"/love\")\n                    .then((response) => {\n                        // addingAReaction(response)\n                        event.preventDefault();\n                        numberOfLoveSpan.textContent = ``\n                        numberOfLoveSpan.textContent = response.data\n                    })\n            })\n\n            surpriseBtn.addEventListener(\"click\", function() {\n                axios.post(liveURL + \"letters/\" + letter.id + \"/surprise\")\n                    .then((response) => {\n                        event.preventDefault();\n                        numberOfSurpriseSpan.textContent = ``\n                        numberOfSurpriseSpan.textContent = response.data\n                    })\n            })\n\n            sadBtn.addEventListener(\"click\", function() {\n                axios.post(liveURL + \"letters/\" + letter.id + \"/sad\")\n                    .then((response) => {\n                        event.preventDefault();\n                        numberOfSadSpan.textContent = ``\n                        numberOfSadSpan.textContent = response.data\n                    })\n            })\n            \n            letterLabelDiv.classList.add (\"label\", letter.label)\n            letterLabelDiv.addEventListener(\"click\", function() {\n                axios.get(liveURL+`letters/type/${letter.label}`).then(function (response) {\n                    // letterUL.innerHTML = ``\n                    newLetterOnPage(response);\n                });\n            })\n\n\n            letterLabelDiv.textContent = letter.label\n\n            // repliesDiv.classList.add (\"replies\")\n            // repliesDiv.addEventListener(\"click\", showingReplies)\n\n            // repliesDiv.textContent = `${letter.replies.length} replies`\n            \n            newLetterDiv.innerHTML = `<p>${letter.message}.</p> <p class=\"salutations\">Love, ${letter.username}</p>`\n\n            reactionsDiv.appendChild(letterLabelDiv)\n\n            loveBtnDiv.appendChild(numberOfLoveSpan)\n            loveBtnDiv.appendChild(loveBtn)\n\n            surpriseBtnDiv.appendChild(numberOfSurpriseSpan)\n            surpriseBtnDiv.appendChild(surpriseBtn)\n\n            sadBtnDiv.appendChild(numberOfSadSpan)\n            sadBtnDiv.appendChild(sadBtn)\n\n            reactionsBtnDiv.appendChild(loveBtnDiv)\n            reactionsBtnDiv.appendChild(surpriseBtnDiv)\n            reactionsBtnDiv.appendChild(sadBtnDiv)\n\n            reactionsDiv.appendChild(reactionsBtnDiv)\n    \n            newLetterListItem.appendChild(newLetterDiv)\n            newLetterListItem.appendChild(reactionsDiv)\n\n\n            letterUL.appendChild(newLetterListItem)\n        })\n    }\n}\n\n\n\nallFilter.addEventListener(\"click\", function() {\n    axios.get(liveURL + \"letters\")\n    .then(function (response) {\n        console.log(response)\n        letterUL.innerHTML = ``\n        newLetterOnPage(response)\n    });\n})\n\nlet filters = [\n    `work`,\n    `love`,\n    `family`,\n    `school`,\n    `misc`\n]\n\nfilters.forEach(function(filter){\n    let filterBtn = document.querySelector(`.label.${filter}`)\n\n    filterBtn.addEventListener(\"click\", function() {\n        axios.get(liveURL+`letters/type/${filter}`)\n        .then(function (response) {\n            letterUL.innerHTML = ``    \n            newLetterOnPage(response);\n        });\n    \n    })\n})\n\n"]}