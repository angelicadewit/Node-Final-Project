{"version":3,"sources":["main.js"],"names":["console","log","$submitButton","document","querySelector","usernameInput","labelSelection","letterInput","letterUL","allFilter","workFilter","loveFilter","familyFilter","schoolFilter","miscFilter","refreshBtn","localURL","liveURL","addEventListener","enteredUsername","value","newUsername","substring","toUpperCase","axios","post","username","label","message","then","response","catch","error","get","innerHTML","newLetterOnPage","showingReplies","repliesDiv","querySelectorAll","forEach","reply","serverReplyDiv","createElement","classList","add","style","left","getBoundingClientRect","right","window","scrollX","top","scrollY","appendChild","letters","data","length","letter","newLetterListItem","newLetterDiv","letterLabelDiv","reactionsDiv","reactionsBtnDiv","numberOfLoveSpan","loveBtn","numberOfSurpriseSpan","surpriseBtn","numberOfSadSpan","sadBtn","textContent","love","src","surprise","sad","id"],"mappings":"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","file":"main.js","sourcesContent":["console.log(`Hello World from main.js`)\nlet $submitButton = document.querySelector(`button.send`)\nlet usernameInput = document.querySelector(`[name=\"username\"]`)\nlet labelSelection = document.querySelector(`#label_select`)\nlet letterInput = document.querySelector(`[name=\"letter\"]`)\nlet letterUL = document.querySelector(`ul.letters`)\nlet allFilter = document.querySelector(`.all`)\nlet workFilter = document.querySelector(`.work`)\nlet loveFilter = document.querySelector(`.love`)\nlet familyFilter = document.querySelector(`.family`)\nlet schoolFilter = document.querySelector(`.school`)\nlet miscFilter = document.querySelector(`.misc`)\nlet refreshBtn = document.querySelector(`.refresh`)\n// let loveBtn = document.querySelector(`.loveBtn`)\n// let numberOfLoveSpan = document.querySelector(`.loveReactions`)\n\nlet localURL = `http://localhost:1337/letters`\nlet liveURL = `http://206.189.78.79:1337`\n\n\n\n$submitButton.addEventListener(`click`, function() {\n    let enteredUsername = usernameInput.value\n    let newUsername = ``\n\n    if (!enteredUsername) {\n        newUsername = `Me`\n    } else {\n        newUsername = enteredUsername.substring(0,1).toUpperCase()\n    }\n\n    if (!labelSelection.value) {\n        labelSelection.value = `misc`\n    }\n\n\taxios.post(localURL, {\n        username: newUsername,\n        label: labelSelection.value,\n        message: letterInput.value,\n\t})\n    .then(function (response) {\n        console.log(response)\n    })\n    .catch(function (error) {\n        console.log(error)\n    });\n})\n\n\naxios\n    .get(\"http://localhost:1337/letters\")\n    .then(function (response) {\n        console.log(response)\n        letterUL.innerHTML = ``\n        newLetterOnPage(response)\n    });\n\n\n\nlet showingReplies = function(){\n\n    let repliesDiv = document.querySelectorAll(`.replies`)\n    \n    repliesDiv.forEach(function(reply){\n        let serverReplyDiv = document.createElement('div')\n\n        serverReplyDiv.classList.add(`reply`)\n        \n        serverReplyDiv.style.left = reply.getBoundingClientRect().right + window.scrollX + \"px\";\n        serverReplyDiv.style.top = reply.getBoundingClientRect().top + window.scrollY + \"px\";\n        reply.appendChild(serverReplyDiv)\n    })\n\t\t\n}\n\n\n\nlet newLetterOnPage = function(letters){\n    if (letters.data.length === 0){\n        letterUL.innerHTML += `<p>There are no letters available. Want to write something?</p>`\n    } else {\n        console.log(`here are are the letters`, letters)\n        letterUL.innerHTML = ``\n\n        letters.data.forEach(function(letter) {\n            let newLetterListItem = document.createElement(`li`)\n\n            let newLetterDiv = document.createElement(`div`)\n            let letterLabelDiv = document.createElement(`div`)\n            let reactionsDiv = document.createElement(`div`)\n            let reactionsBtnDiv = document.createElement(`div`)\n\n            let numberOfLoveSpan = document.createElement(`span`)\n            let loveBtn = document.createElement(`img`)\n\n            let numberOfSurpriseSpan = document.createElement(`span`)\n            let surpriseBtn = document.createElement(`img`)\n\n            let numberOfSadSpan = document.createElement(`span`)\n            let sadBtn = document.createElement(`img`)\n\n            // let repliesDiv = document.createElement(`div`)\n            // let repliesSpan = document.createElement(`span`)\n\n            numberOfLoveSpan.textContent = letter.love\n            numberOfLoveSpan.classList.add(`loveReactions`)\n            loveBtn.src = \"dist/img/56-3.png\"\n\n            numberOfSurpriseSpan.textContent = letter.surprise\n            surpriseBtn.src = \"dist/img/56-1.png\"\n            numberOfSurpriseSpan.classList.add(`surpriseReactions`)\n\n            numberOfSadSpan.textContent = letter.sad\n            sadBtn.src = \"dist/img/56-2.png\"\n            numberOfSadSpan.classList.add(`sadReactions`)\n            \n\n            reactionsBtnDiv.classList.add(`reactionBtn`)\n            reactionsDiv.classList.add(`reaction`)\n            newLetterDiv.classList.add(`letter`)\n\n\n            loveBtn.addEventListener(\"click\", function() {\n                axios.post(localURL + \"/\" + letter.id + \"/love\")\n                    .then((response) => {\n                        // addingAReaction(response)\n                        numberOfLoveSpan.textContent = ``\n                        numberOfLoveSpan.textContent = response.data\n                    })\n            })\n\n            surpriseBtn.addEventListener(\"click\", function() {\n                axios.post(localURL + \"/\" + letter.id + \"/surprise\")\n                    .then((response) => {\n                        numberOfSurpriseSpan.textContent = ``\n                        numberOfSurpriseSpan.textContent = response.data\n                    })\n            })\n\n            sadBtn.addEventListener(\"click\", function() {\n                axios.post(localURL + \"/\" + letter.id + \"/sad\")\n                    .then((response) => {\n                        numberOfSadSpan.textContent = ``\n                        numberOfSadSpan.textContent = response.data\n                    })\n            })\n            \n            letterLabelDiv.classList.add (\"label\", letter.label)\n            letterLabelDiv.addEventListener(\"click\", function() {\n                axios.get(`http://localhost:1337/letters/type/${letter.label}`).then(function (response) {\n                    // letterUL.innerHTML = ``\n                    newLetterOnPage(response);\n                });\n            })\n\n\n            letterLabelDiv.textContent = letter.label\n\n            // repliesDiv.classList.add (\"replies\")\n            // repliesDiv.addEventListener(\"click\", showingReplies)\n\n            // repliesDiv.textContent = `${letter.replies.length} replies`\n            \n            newLetterDiv.innerHTML = `<p>${letter.message}.</p> <p class=\"salutations\">Love, ${letter.username}</p>`\n\n            reactionsDiv.appendChild(letterLabelDiv)\n            \n            reactionsBtnDiv.appendChild(numberOfLoveSpan)\n            reactionsBtnDiv.appendChild(loveBtn)\n\n            reactionsBtnDiv.appendChild(numberOfSurpriseSpan)\n            reactionsBtnDiv.appendChild(surpriseBtn)\n\n            reactionsBtnDiv.appendChild(numberOfSadSpan)\n            reactionsBtnDiv.appendChild(sadBtn)\n\n            reactionsDiv.appendChild(reactionsBtnDiv)\n            \n    \n            newLetterListItem.appendChild(newLetterDiv)\n            newLetterListItem.appendChild(reactionsDiv)\n\n\n            letterUL.appendChild(newLetterListItem)\n        })\n    }\n}\n\nallFilter.addEventListener(\"click\", function() {\n    axios.get(`http://localhost:1337/letters/`).then(function (response) { \n    letterUL.innerHTML = ``  \n    newLetterOnPage(response);\n    });\n})\n\nworkFilter.addEventListener(\"click\", function() {\n    axios.get(`http://localhost:1337/letters/type/work`).then(function (response) {\n    letterUL.innerHTML = ``    \n    newLetterOnPage(response);\n    });\n})\n\nloveFilter.addEventListener(\"click\", function() {\n    axios.get(`http://localhost:1337/letters/type/love`).then(function (response) {\n    letterUL.innerHTML = ``    \n    newLetterOnPage(response);\n    });\n})\n\nfamilyFilter.addEventListener(\"click\", function() {\n    axios.get(`http://localhost:1337/letters/type/family`).then(function (response) {\n    letterUL.innerHTML = ``    \n    newLetterOnPage(response);\n    });\n})\n\nschoolFilter.addEventListener(\"click\", function() {\n    axios.get(`http://localhost:1337/letters/type/school`).then(function (response) {\n    letterUL.innerHTML = ``    \n    newLetterOnPage(response);\n    });\n})\n\nmiscFilter.addEventListener(\"click\", function() {\n    axios.get(`http://localhost:1337/letters/type/misc`).then(function (response) {\n    letterUL.innerHTML = ``    \n    newLetterOnPage(response);\n    });\n})\n\n"]}