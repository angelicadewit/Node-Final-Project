{"version":3,"sources":["main.js"],"names":["console","log","$submitButton","document","querySelector","usernameInput","labelSelection","letterInput","letterUL","allFilter","workFilter","loveFilter","familyFilter","schoolFilter","miscFilter","localURL","liveURL","addEventListener","enteredUsername","value","newUsername","substring","toUpperCase","axios","post","username","label","message","then","response","catch","error","get","innerHTML","newLetterOnPage","letters","data","length","forEach","letter","newLetterListItem","createElement","letterLabelDiv","reactionsDiv","numberOfLovesSpan","lovesBtn","src","classList","add","id","textContent","appendChild"],"mappings":"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","file":"main.js","sourcesContent":["console.log(`Hello World from main.js`)\nlet $submitButton = document.querySelector(`button.send`)\nlet usernameInput = document.querySelector(`[name=\"username\"]`)\nlet labelSelection = document.querySelector(`#label_select`)\nlet letterInput = document.querySelector(`[name=\"letter\"]`)\nlet letterUL = document.querySelector(`ul.letters`)\nlet allFilter = document.querySelector(`.all`)\nlet workFilter = document.querySelector(`.work`)\nlet loveFilter = document.querySelector(`.love`)\nlet familyFilter = document.querySelector(`.family`)\nlet schoolFilter = document.querySelector(`.school`)\nlet miscFilter = document.querySelector(`.misc`)\n\nlet localURL = `http://localhost:1337/letters`\nlet liveURL = `http://206.189.78.79:1337`\n\n\n\n$submitButton.addEventListener(`click`, function() {\n    let enteredUsername = usernameInput.value\n    let newUsername = ``\n\n    if (!enteredUsername) {\n        newUsername = `Me`\n    } else {\n        newUsername = enteredUsername.substring(0,1).toUpperCase()\n    }\n\n    if (!labelSelection.value) {\n        labelSelection.value = `misc`\n    }\n\n\taxios.post(localURL, {\n        username: newUsername,\n        label: labelSelection.value,\n        message: letterInput.value,\n\t})\n    .then(function (response) {\n        console.log(response)\n    })\n    .catch(function (error) {\n        console.log(error)\n    });\n})\n\naxios.get(\"http://localhost:1337/letters\").then(function (response) {\n    console.log(response)\n    letterUL.innerHTML = ``\n    newLetterOnPage(response)\n});\n\nlet newLetterOnPage = function(letters){\n    if (letters.data.length === 0){\n        letterUL.innerHTML += `<p>There are no letters available. Want to write something?</p>`\n    } else {\n        console.log(`here are are the letters`, letters)\n        letterUL.innerHTML = ``\n\n        letters.data.forEach(function(letter) {\n            let newLetterListItem = document.createElement(`li`)\n            // let newLetterDiv = document.createElement(`div`)\n            let letterLabelDiv = document.createElement(`div`)\n            let reactionsDiv = document.createElement(`div`)\n            let numberOfLovesSpan = document.createElement(`span`)\n            let lovesBtn = document.createElement(`img`)\n\n            lovesBtn.src = \"../dist/img/56-3.png\";\n            lovesBtn.classList.add(`reaction`)\n\n            lovesBtn.addEventListener(\"click\", function() {\n                // /letters/:id/loves\n                axios.post(localURL + \"/\" + letter.id + \"/love\")\n                    .then((response) => {\n                        console.log(response)\n                    })\n            })\n            \n            // newLetterListItem.classList.add(`letterDiv`)\n            letterLabelDiv.classList.add (\"label\", letter.label)\n            letterLabelDiv.addEventListener(\"click\", function() {\n                axios.get(`http://localhost:1337/letters/type/${letter.label}`).then(function (response) {\n                    // letterUL.innerHTML = ``\n                    newLetterOnPage(response);\n                });\n            })\n\n            letterLabelDiv.textContent = letter.label\n            \n            newLetterListItem.innerHTML = `<p>${letter.message}.</p> <p class=\"salutations\">Love, ${letter.username}</p>`\n            \n            reactionsDiv.appendChild(numberOfLovesSpan)\n            reactionsDiv.appendChild(lovesBtn)\n\n            \n            newLetterListItem.appendChild(reactionsDiv)\n\n            newLetterListItem.appendChild(letterLabelDiv)\n\n            // newLetterListItem.appendChild(newLetterDiv)\n            letterUL.appendChild(newLetterListItem)\n        })\n    }\n}\n\nallFilter.addEventListener(\"click\", function() {\n    axios.get(`http://localhost:1337/letters/`).then(function (response) { \n    letterUL.innerHTML = ``  \n    newLetterOnPage(response);\n    });\n})\n\nworkFilter.addEventListener(\"click\", function() {\n    axios.get(`http://localhost:1337/letters/type/work`).then(function (response) {\n    letterUL.innerHTML = ``    \n    newLetterOnPage(response);\n    });\n})\n\nloveFilter.addEventListener(\"click\", function() {\n    axios.get(`http://localhost:1337/letters/type/love`).then(function (response) {\n    letterUL.innerHTML = ``    \n    newLetterOnPage(response);\n    });\n})\n\nfamilyFilter.addEventListener(\"click\", function() {\n    axios.get(`http://localhost:1337/letters/type/family`).then(function (response) {\n    letterUL.innerHTML = ``    \n    newLetterOnPage(response);\n    });\n})\n\nschoolFilter.addEventListener(\"click\", function() {\n    axios.get(`http://localhost:1337/letters/type/school`).then(function (response) {\n    letterUL.innerHTML = ``    \n    newLetterOnPage(response);\n    });\n})\n\nmiscFilter.addEventListener(\"click\", function() {\n    axios.get(`http://localhost:1337/letters/type/misc`).then(function (response) {\n    letterUL.innerHTML = ``    \n    newLetterOnPage(response);\n    });\n})\n"]}